@inherits LayoutComponentBase
@inject NavigationManager Navigation

<PageTitle>BestMovies</PageTitle>

<MudThemeProvider/>

<MudAppBar Color="Color.Primary" Fixed="false">
    <MudIconButton Icon="@Icons.Material.Filled.House" Edge="Edge.Start" Href="/"/>
    <MudSpacer/>
    <MudTextField T="string" @bind-value="SearchTerm" Immediate="true" Label="Search" InputType="InputType.Search" Variant="Variant.Filled" OnKeyDown="ShouldSearch"/>
    <MudSpacer/>
    <MudIconButton Icon="@Icons.Material.Filled.Person" Href="/Account"/>
</MudAppBar>

@Body

@code
{
    string SearchTerm { get; set; } = "N/A";

    void ShouldSearch(KeyboardEventArgs e)
    {
        if (e.Key == "Enter")
            Search();
    }
    
    void Search()
    {
        Navigation.NavigateTo($"/Search/{SearchTerm}");
    }

}
